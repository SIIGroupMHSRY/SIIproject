<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
 <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css">
    <link rel="stylesheet" href="libraries/Leaflet.draw/dist/leaflet.draw.css" />
	<link rel="stylesheet" href="libraries/MiniMap/fullscreen.css" />
	<link rel="stylesheet" href="libraries/MiniMap/src/Control.MiniMap.css" />
	<link rel="stylesheet" href="libraries/Measure/leaflet.measurecontrol.css" />
	<link rel="stylesheet" href="L.Control.Sidebar.css" />
	
	<script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
	<script src="libraries/Leaflet.draw/dist/leaflet.draw.js" type="text/javascript"></script>
    <script src="libraries/MiniMap/src/Control.MiniMap.js" type="text/javascript"></script>
	<script src="libraries/Measure/leaflet.measurecontrol.js" type="text/javascript"></script>
	
	<script type='text/javascript' src="libraries/GeometryUtil/dist/leaflet.geometryutil.js"></script>
	<script type='text/javascript' src="libraries/leaflet.almostover.js"></script>
	<script src="libraries/jQuery.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<!-- created style sheets and scripts-->
<link href="libraries/bootstrap/css/bootstrap.css" rel="stylesheet">
<script type="text/javascript" src="libraries/L.Control.Sidebar.js"></script>

<style>
#map { 
            position: absolute;
            top:0;
            left: 0;
            right: 0;
            bottom:0;
        }
        .leaflet-control.enabled a {
            background-color: yellow;
        }

</style>
<body>

<body style="background-color:#000000">

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
		  <a class="navbar-brand" href="index.html">Accomodations</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Map</a></li>
            <li><a href="help.html">Help</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
 <div id="map" style="position:absolute;left:25px; top:51px; width: 96%; height: 72%;">
 

 
	<script>

var map = L.map('map').setView([51.9604,7.6197], 14);


var layer1=L.tileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a>'
+' contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>,'
+'Imagery &copy <a href="http://cloudmade.com">CloudMade</a>',
    maxZoom: 18
});

layer1.addTo(map);

//create map


		
//OSM maps one as overlay and one base layer 
var osmUrl='http://a.tile.openstreetmap.org/{z}/{x}/{y}.png';
var osmAttrib='Map data &copy; OpenStreetMap contributors';
var layerOSM=L.tileLayer(osmUrl, {minZoom: 0, maxZoom: 18, attribution: osmAttrib});
var layerOSMtransparent=L.tileLayer('http://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy<a href="www.openstretmap.org/copyright ">OpenStreetMap</a> contributors',
	opacity:0.5,
    format: 'image/png',
	
});
//Layers of Geobasis NRW: http://www.bezreg-koeln.nrw.de/brk_internet/organisation/abteilung07/produkte/nrwatlas/index.html 
//                          (website which provides different Web Map Service (WMS)-URLs)
var layerDTK10_pan=L.tileLayer.wms('http://www.wms.nrw.de/geobasis/wms_nw_dtk10', {
   attribution: '| &copy Geobasis NRW 2013',
	layers: 'NW_DTK10_pan',
    format: 'image/png',
    transparent: true,
	opacity:0.4	
});
var layerDTK10=L.tileLayer.wms('http://www.wms.nrw.de/geobasis/wms_nw_dtk10', {
     attribution: '| &copy Geobasis NRW 2013',
	layers: 'nw_dtk10_pan,nw_dtk10_res,NW_DTK10_col,WMS_NW_DTK10',
    format: 'image/png',
    transparent: true
});
//layer of the different districts
var layerDVG=L.tileLayer.wms('http://www.wms.nrw.de/geobasis/wms_nw_dvg', {
     attribution: '| &copy Geobasis NRW 2013',
	layers: 'WMS_NW_DVG',
    format: 'image/png',
    transparent: true,
	opacity:0.5
});
var layerDGK5=L.tileLayer.wms('http://www.wms.nrw.de/geobasis/wms_nw_dgk5', {
 attribution: '| &copy Geobasis NRW 2013',
	layers: 'WMS_NW_DGK5',
    format: 'image/png',
    transparent: true,
	opacity:0.5
});
//Orthophoto layer
var layerOrtho = L.tileLayer.wms('http://www.wms.nrw.de/geobasis/wms_nw_dop40', {
    layers: 'WMS_NW_DOP40',
    format: 'image/png',
	version:'1.3.0',
    attribution: '| &copy Geobasis NRW 2013'
});
//The map which is visualized when you get on the website.
layerOSM.addTo(map);

//Map control: Layer switcher
var baseMaps={ "OSM": layerOSM,
               "arial view": layerOrtho,
			   "DTK10":layerDTK10
               };
var overlapMaps={"OSM":layerOSMtransparent,
                  "DVG":layerDVG,
				  "DTK10_pan":layerDTK10_pan,
				  "DGK5":layerDGK5};
var control=L.control.layers(baseMaps,overlapMaps,{position:'bottomleft'}).addTo(map);

//miniMap
	var osm2 = new L.TileLayer(osmUrl, {minZoom: 0, maxZoom: 13, attribution: osmAttrib });
	var miniMap = new L.Control.MiniMap(osm2, { toggleDisplay: true }).addTo(map);
	
	//measure Control 
	L.Control.measureControl().addTo(map);

//drawing tool
var drawControl = new L.Control.Draw({

		}).addTo(map);

	
//getlocation
map.locate({setView: true, maxZoom: 16});

function onLocationFound(e) {
    var radius = e.accuracy / 2;

    L.marker(e.latlng).addTo(map)
        .bindPopup("You are within " + radius + " meters from this point. Do you want to start a query with this location?").openPopup();

    L.circle(e.latlng, radius).addTo(map);
}

map.on('locationfound', onLocationFound);

function onLocationError(e) {
    alert(e.message);
}

map.on('locationerror', onLocationError);
	</script>
	</body>
	</html>